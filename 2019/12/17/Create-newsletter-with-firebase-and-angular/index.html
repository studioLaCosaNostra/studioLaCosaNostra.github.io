<!DOCTYPE html><html lang="en"><head><meta name="generator" content="Hexo 3.8.0"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=5"><meta name="msvalidate.01" content="292663BA216F36D83E3C5B19B43A0BA1"><meta name="description" content="Email marketing is one of the cheapest and easiest ways to get your website and online store to returning recipients. This is a form of advertising that goes to the most private place on the web, whic"><meta name="keywords" content="angular,firebase,newsletter,email marketing"><meta property="og:type" content="article"><meta property="og:title" content="Create from scratch a newsletter service with Firebase and Angular"><meta property="og:url" content="https://studiolacosanostra.github.io/2019/12/17/Create-newsletter-with-firebase-and-angular/index.html"><meta property="og:site_name" content="Studio La cosa nostra dev blog"><meta property="og:description" content="Email marketing is one of the cheapest and easiest ways to get your website and online store to returning recipients. This is a form of advertising that goes to the most private place on the web, whic"><meta property="og:locale" content="en"><meta property="og:image" content="https://studiolacosanostra.github.io/2019/12/17/Create-newsletter-with-firebase-and-angular/title-image.png"><meta property="og:updated_time" content="2020-01-07T00:27:13.640Z"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:title" content="Create from scratch a newsletter service with Firebase and Angular"><meta name="twitter:description" content="Email marketing is one of the cheapest and easiest ways to get your website and online store to returning recipients. This is a form of advertising that goes to the most private place on the web, whic"><meta name="twitter:image" content="https://studiolacosanostra.github.io/2019/12/17/Create-newsletter-with-firebase-and-angular/title-image.png"><meta name="twitter:creator" content="@la_cosa_nostrai"><meta name="twitter:site" content="https://studiolacosanostra.github.io/2019/12/17/Create-newsletter-with-firebase-and-angular/"><link rel="shortcut icon" href="/images/favicon.ico"><link rel="icon" type="image/png" href="/images/favicon-192x192.png" sizes="192x192"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png"><title>Create from scratch a newsletter service with Firebase and Angular</title><link rel="stylesheet" href="/css/style.css" media="none" onload="&quot;all&quot;!=media&amp;&amp;(media=&quot;all&quot;)"><noscript><link rel="stylesheet" href="/css/style.css"></noscript><link rel="stylesheet" href="/css/rtl.css" media="none" onload="&quot;all&quot;!=media&amp;&amp;(media=&quot;all&quot;)"><noscript><link rel="stylesheet" href="/css/rtl.css"></noscript><link rel="amphtml" href="https://studiolacosanostra.github.io/2019/12/17/Create-newsletter-with-firebase-and-angular/amp/index.html"><script async="" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script>(adsbygoogle=window.adsbygoogle||[]).push({google_ad_client:"ca-pub-7811559275890870",enable_page_level_ads:!0})</script><script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-133020393-1"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-133020393-1")</script><meta name="google-site-verification" content="M3LE90r-9Zi3bh6WJc9u3Dv4Y4iN5uAbCLOoKKB5STg"><meta name="yandex-verification" content="d79c4ffd80f4db16"><meta name="monetization" content="$coil.xrptipbot.com/-LgHcPIpRjOKFZ99hUWsgg"><meta name="p:domain_verify" content="f40f638a911806fcc1b1d6ce99ecd6ff"><link rel="canonical" href="https://studiolacosanostra.github.io/2019/12/17/Create-newsletter-with-firebase-and-angular/"><link href="https://fonts.googleapis.com/css?family=Roboto&amp;display=swap" rel="stylesheet"><link rel="stylesheet" href="/css/prism.css" media="none" onload="&quot;all&quot;!=media&amp;&amp;(media=&quot;all&quot;)"><noscript><link rel="stylesheet" href="/css/prism.css"></noscript><link rel="stylesheet" href="/css/prism-line-numbers.css" media="none" onload="&quot;all&quot;!=media&amp;&amp;(media=&quot;all&quot;)"><noscript><link rel="stylesheet" href="/css/prism-line-numbers.css"></noscript><link rel="stylesheet" href="/css/prism.css" media="none" onload="if(media!='all')media='all'"><noscript><link rel="stylesheet" href="/css/prism.css"></noscript>
<link rel="stylesheet" href="/css/prism-line-numbers.css" media="none" onload="if(media!='all')media='all'"><noscript><link rel="stylesheet" href="/css/prism-line-numbers.css"></noscript></head><body class="max-width mx-auto px3 ltr"><cookie-consent>This site uses cookies to analyse traffic, remember your preferences, and optimise your experience. <a href="/privacy-policy.html">Learn more, read the privacy policy page.</a></cookie-consent><div id="header-post"><a id="menu-icon" href="#"><i class="fas fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fas fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$(&quot;html, body&quot;).animate({scrollTop:0},&quot;fast&quot;)" style="display:none"><i class="fas fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/projects">Projects</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="/2019/11/18/Prerender-angular-application-generate-static-pages/"><i class="fas fa-chevron-right" aria-hidden="true" onmouseover="$(&quot;#i-next&quot;).toggle()" onmouseout="$(&quot;#i-next&quot;).toggle()"></i></a></li><li><a class="icon" href="#" onclick="$(&quot;html, body&quot;).animate({scrollTop:0},&quot;fast&quot;)"><i class="fas fa-chevron-up" aria-hidden="true" onmouseover="$(&quot;#i-top&quot;).toggle()" onmouseout="$(&quot;#i-top&quot;).toggle()"></i></a></li><li><a class="icon" href="#"><i class="fas fa-share-alt" aria-hidden="true" onmouseover="$(&quot;#i-share&quot;).toggle()" onmouseout="$(&quot;#i-share&quot;).toggle()" onclick="return $(&quot;#share&quot;).toggle(),!1"></i></a></li></ul><span id="i-prev" class="info" style="display:none">Previous post</span> <span id="i-next" class="info" style="display:none">Next post</span> <span id="i-top" class="info" style="display:none">Back to top</span> <span id="i-share" class="info" style="display:none">Share post</span></span><br><div id="share" style="display:none"><meta name="generator" content="Hexo 3.8.0"><link rel="stylesheet" href="/css/prism.css" media="none" onload="&quot;all&quot;!=media&amp;&amp;(media=&quot;all&quot;)"><noscript><link rel="stylesheet" href="/css/prism.css"></noscript><link rel="stylesheet" href="/css/prism-line-numbers.css" media="none" onload="&quot;all&quot;!=media&amp;&amp;(media=&quot;all&quot;)"><noscript><link rel="stylesheet" href="/css/prism-line-numbers.css"></noscript><ul><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https://studiolacosanostra.github.io/2019/12/17/Create-newsletter-with-firebase-and-angular/" rel="external nofollow noopener noreferrer" target="_blank"><i class="fab fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https://studiolacosanostra.github.io/2019/12/17/Create-newsletter-with-firebase-and-angular/&amp;text=Create from scratch a newsletter service with Firebase and Angular" rel="external nofollow noopener noreferrer" target="_blank"><i class="fab fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https://studiolacosanostra.github.io/2019/12/17/Create-newsletter-with-firebase-and-angular/&amp;title=Create from scratch a newsletter service with Firebase and Angular" rel="external nofollow noopener noreferrer" target="_blank"><i class="fab fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https://studiolacosanostra.github.io/2019/12/17/Create-newsletter-with-firebase-and-angular/&amp;is_video=false&amp;description=Create from scratch a newsletter service with Firebase and Angular" rel="external nofollow noopener noreferrer" target="_blank"><i class="fab fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=Create from scratch a newsletter service with Firebase and Angular&amp;body=Check out this article: https://studiolacosanostra.github.io/2019/12/17/Create-newsletter-with-firebase-and-angular/"><i class="fas fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https://studiolacosanostra.github.io/2019/12/17/Create-newsletter-with-firebase-and-angular/&amp;title=Create from scratch a newsletter service with Firebase and Angular" rel="external nofollow noopener noreferrer" target="_blank"><i class="fab fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https://studiolacosanostra.github.io/2019/12/17/Create-newsletter-with-firebase-and-angular/&amp;title=Create from scratch a newsletter service with Firebase and Angular" rel="external nofollow noopener noreferrer" target="_blank"><i class="fab fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https://studiolacosanostra.github.io/2019/12/17/Create-newsletter-with-firebase-and-angular/&amp;title=Create from scratch a newsletter service with Firebase and Angular" rel="external nofollow noopener noreferrer" target="_blank"><i class="fab fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https://studiolacosanostra.github.io/2019/12/17/Create-newsletter-with-firebase-and-angular/&amp;title=Create from scratch a newsletter service with Firebase and Angular" rel="external nofollow noopener noreferrer" target="_blank"><i class="fab fa-digg" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.tumblr.com/share/link?url=https://studiolacosanostra.github.io/2019/12/17/Create-newsletter-with-firebase-and-angular/&amp;name=Create from scratch a newsletter service with Firebase and Angular&amp;description=" rel="external nofollow noopener noreferrer" target="_blank"><i class="fab fa-tumblr" aria-hidden="true"></i></a></li></ul></div><div id="toc"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#What-is-Firebase"><span class="toc-number">1.</span> <span class="toc-text">What is Firebase?</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Firestore-and-database-structure-determination"><span class="toc-number">2.</span> <span class="toc-text">Firestore and database structure determination</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#What-collections-will-our-application-need"><span class="toc-number">2.1.</span> <span class="toc-text">What collections will our application need?</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Firebase-cloud-functions-backend"><span class="toc-number">3.</span> <span class="toc-text">Firebase cloud functions - backend</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#What-is-Angular"><span class="toc-number">4.</span> <span class="toc-text">What is Angular?</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Technologies-used"><span class="toc-number">4.1.</span> <span class="toc-text">Technologies used</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Web-application-pages"><span class="toc-number">4.2.</span> <span class="toc-text">Web application pages</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Formularz-subskrypcji"><span class="toc-number">4.3.</span> <span class="toc-text">Formularz subskrypcji</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Summary"><span class="toc-number">5.</span> <span class="toc-text">Summary</span></a></li></ol></div></span></div><div class="content index py4"><article class="post"><header><meta name="generator" content="Hexo 3.8.0"><link rel="stylesheet" href="/css/prism.css" media="none" onload="&quot;all&quot;!=media&amp;&amp;(media=&quot;all&quot;)"><noscript><link rel="stylesheet" href="/css/prism.css"></noscript><link rel="stylesheet" href="/css/prism-line-numbers.css" media="none" onload="&quot;all&quot;!=media&amp;&amp;(media=&quot;all&quot;)"><noscript><link rel="stylesheet" href="/css/prism-line-numbers.css"></noscript><h1 class="posttitle">Create from scratch a newsletter service with Firebase and Angular</h1><div class="meta"><meta name="generator" content="Hexo 3.8.0"><div class="postdate"><time datetime="2019-12-17T00:00:00.000Z">2019-12-17</time></div><meta name="generator" content="Hexo 3.8.0"><meta name="generator" content="Hexo 3.8.0"><div class="article-tag"><i class="fas fa-tag"></i> <a class="tag-link" href="/tags/angular/">angular</a>, <a class="tag-link" href="/tags/email-marketing/">email marketing</a>, <a class="tag-link" href="/tags/firebase/">firebase</a>, <a class="tag-link" href="/tags/newsletter/">newsletter</a></div></div></header><meta name="generator" content="Hexo 3.8.0"><img class="image" src="/2019/12/17/Create-newsletter-with-firebase-and-angular/title-image.png" alt="Create from scratch a newsletter service with Firebase and Angular" loading="lazy"><div class="content"><meta name="generator" content="Hexo 3.8.0"><p>Email marketing is one of the cheapest and easiest ways to get your website and online store to returning recipients. This is a form of advertising that goes to the most private place on the web, which is your mailbox. The results of reports from many campaigns around the world show that investment in this form of advertising works and is successful. That is why it is worth starting work on your newsletter!</p><p>There are many ready tools for creating email marketing campaigns like Mailchimp, Freshmail or Getresponse. These are real harvesters with an endless array of possibilities, but in this article we will not describe their capabilities. We will only discuss the topic of building your own mini system from scratch to send emails to our subscribers. We will use the <strong>Firebase</strong> development platform and the <strong>Angular</strong> web application framework for this purpose.</p><h2 id="What-is-Firebase"><a href="#What-is-Firebase" class="headerlink" title="What is Firebase?"></a>What is Firebase?</h2><p><img src="/2019/12/17/Create-newsletter-with-firebase-and-angular/firebase-logo.png" alt="Firebase logo" loading="lazy"></p><p>Firebase is a development platform created by Firebase Inc. in 2011, which was later bought by Google in 2014. The platform is mainly focused on creating an ecosystem that facilitates the rapid creation of good quality mobile applications.<br>In our application we will use only a few services provided by it:</p><ol><li>Hosting - 1GB of disk space for our project, 10GB of free monthly transfer + automatically configured SSL certificate. Plus, thanks to firebase-cli we send our ready code in a few seconds.</li><li>User Authentication - User registration and login system built into the platform from many services like Facebook, Twitter or of course Google. Implementation is very simple and saves a lot of time on application development, not the authentication system.</li><li>Firestore - A flexible and scalable NoSQL database that I will write about later.</li><li>Firebase cloud functions - A service that allows creating the backend code of our project. We have full access to handling Https queries, creating triggers for Firebase events or user credentials, and code executed at a specified time interval.</li></ol><h2 id="Firestore-and-database-structure-determination"><a href="#Firestore-and-database-structure-determination" class="headerlink" title="Firestore and database structure determination"></a>Firestore and database structure determination</h2><p>As we have already learned, Firestore is a NoSQL database embedded in the platform, we do not create tables and complicated selectors as is the case in SQL databases. Here we rely on document collections. Thanks to collections, we can sort our documents according to their purpose, and then, using queries about appropriate fields, extract data of interest to them. The document is a record containing fields that are mapped to values. Each document has an identifier, after which we can refer to it.</p><h3 id="What-collections-will-our-application-need"><a href="#What-collections-will-our-application-need" class="headerlink" title="What collections will our application need?"></a>What collections will our application need?</h3><p><img src="/2019/12/17/Create-newsletter-with-firebase-and-angular/firestore-console-view.png" alt="firestore console view" loading="lazy"></p><p>From the very beginning of designing, you should think that not only the owner will want to work on the newsletter. You need to develop a collection that will store information about the role a given system user plays in the newsletter. For simplicity, we only have three roles: owner, administrator and member. Each of them has different access rights to the collection in the system. Firestore allows access to the database already at the frontend level, so you probably wonder how to do it when you can query the database for each document and edit it. Usually the backend is from protecting and communicating with the database. Here Firestore Seciurity Rules comes in handy. By using a simple javascript-like syntax, you can create security policies. Determine who has what access to a given resource based on information in the user’s role collection.</p><p><img src="/2019/12/17/Create-newsletter-with-firebase-and-angular/firestore-example-rule.png" alt="firestore example rule" loading="lazy"></p><p>Once we have the role system, we need to determine what data we need to have for the newsletter to perform its task:</p><ul><li><p><em>Newsletter settings</em> - Authentication for SMTP, description of the first message for subscription confirmation, daily limit of messages (some services like Gmail only allow a certain number of sent messages per day). Only the owner and administrators will have access to this data.</p></li><li><p><em>Newsletter</em> - Name in the system, e-mail address from which we send messages, information on errors that occurred (e.g. incorrectly configured SMTP authentication), the number of subscribers, the number of messages sent. In addition to these fields, our document will contain additional document collections (Firestore allows you to nest a collection document with subsequent documents):</p><ul><li><em>Subscribers</em> - e-mail address, if confirmed subscription, date added and information received by us from the beginning of the list. Only the owner and administrators will have access to our list.</li><li><em>Internal subscribers</em> - Token of subscription confirmation and cancellation. This data has been specially separated from <em>Subscribers</em>, because that’s the only way we can give them different security policies. Secure tokens are known only to the system and available only using cloud functions, having full access to all firestore resources.</li><li><em>Messages</em> - Name in the system, Message title, Message content and ID of the author of this message. The message can be edited by the author, owner and administrators. Anyone who has a specific role in the <em>newsletter</em> can read.</li><li><em>Delivery</em> - <em>Newsletter</em> ID, <em>message</em> to be sent, shipment status, delivery creation date. Only the owner and administrators can send and read our deliveries.</li></ul></li></ul><p>An additional collection that still needs to be created is <em>invitations</em>. After all, not everyone already has an account in our system, you must first invite them by email, and the system must know that the new user was previously invited to the <em>newsletter</em> and assign him new roles.</p><ul><li><em>Invitations</em> - e-mail address, <em>newsletter</em> ID and assigned role.</li></ul><p>We have already fully exhausted the topic of the structure of our database, it’s time to move on to creating the backend part.</p><h2 id="Firebase-cloud-functions-backend"><a href="#Firebase-cloud-functions-backend" class="headerlink" title="Firebase cloud functions - backend"></a>Firebase cloud functions - backend</h2><p><img src="/2019/12/17/Create-newsletter-with-firebase-and-angular/firebase-cloud-functions-console-view.png" alt="firebase cloud functions console view" loading="lazy"></p><p>To support subscribers we need to create a REST API. Each newsletter must be able to subscribe to it, send confirmation e-mails and unsubscribe from each e-mail with one click. Cloud functions allow you to create such an interface using the popular express.js library, eventually we will create such endpoints:</p><ul><li><strong>/api/v1/subscribe</strong> - Responsible for registering new subscribers.</li><li><strong>/api/v1/confirm</strong> - In the first message immediately after subscribing to the newsletter, the URL from this endpoint is sent to the subscriber so that he can confirm his email address.</li><li><strong>/api/v1/unsubscribe</strong> - The URL is provided in every message to the subscriber, usually at the bottom, but this can be changed in the newsletter settings.</li></ul><p><img src="/2019/12/17/Create-newsletter-with-firebase-and-angular/firebase-cloud-functions-web-api.png" alt="firebase cloud functions web api" loading="lazy"></p><p>With API this will be everything, thanks to the fact that the firestore enables us to work with the database on the frontend side, we do not have to create further endpoints responsible for individual actions in our system. Only complex database operations are performed on the cloud functions side. We have two cases in our system:</p><ul><li>Deleting the newsletter - In Firestore, deleting the document will not delete its subcollection, so in this case we must get to each subcollection of the document and delete the existing content. This is a very long and complicated operation, so it is recommended to perform it on the backend side. For this purpose, you can use <em>Http Callable Functions</em>, which are a variation of http queries, but with user identification.</li><li>Changing the name of the newsletter - To improve the operation of the application, the name of the newsletter is not only found in the newsletter document, but also for each user role, which improves the operation of the frontend page of the project.</li></ul><p><img src="/2019/12/17/Create-newsletter-with-firebase-and-angular/firebase-cloud-functions-rename-newsletter.png" alt="firebase cloud functions rename newsletter" loading="lazy"></p><p>By changing the newsletter settings we have the option of setting a daily limit of sent messages, we must observe its change. Firestore has the function of running the cloud functions code when editing a specific document from the collection, thanks to which we can update the message limit for that particular day.</p><p>You probably wonder how messages are sent by our system. Well, it works quite simply. Every hour a backend code (cron jobs) is launched, which searches the newsletter collections with the daily message limit not used and with a flag indicating whether it is waiting for any message to be sent in the <em>delivery </em>collection. Each subscriber stores in his document the current status of received messages from the <em>delivery </em>collection. Without this it is not possible to create subsequent inquiries to the database about subscribers waiting to send a message. Using the nodemailer library, the system connects to the mailing service and sends messages until the end of subscribers or until the end of the daily message limit.</p><p>Similarly, message limits are reset every day at 10 o’clock.</p><p>A newly registered user must also use the backend code to find all invitations he has received and add new roles to the system.</p><p>We have now described the backend part, now we go to the frontend. :)</p><h2 id="What-is-Angular"><a href="#What-is-Angular" class="headerlink" title="What is Angular?"></a>What is Angular?</h2><p><img src="/2019/12/17/Create-newsletter-with-firebase-and-angular/angular-logo.png" alt="Angular logo" loading="lazy"></p><p>Angular is a framework that streamlines the creation of fast and efficient web applications. Systematically developed by Google, every year it becomes more and more a comprehensive platform for creating SPA next to React or Vue.</p><h3 id="Technologies-used"><a href="#Technologies-used" class="headerlink" title="Technologies used"></a>Technologies used</h3><p>The project in its core uses the Firebase library to communicate with Firestore and NGRX to save the state of recently downloaded data from our database, which alleviates the stage of loading content during active use of the application. Facilitating work on the appearance of the application, the material design library and flex-layout were used. To reduce the cost of downloading the page, the @ angular / pwa library has been added to the project, which introduces our system to the world of service-workers and intelligent caching of applications on the client’s side. The prosemirror library was used to edit the message. It has a set of tools ready to create an option-rich text editor. Its main advantage is the ready transaction system that allows us to edit one document by many people at the same time as in Google Docs. One of the problems to be solved was search engine visibility. The frontend part of the system is a typical SPA application, i.e. the entire content of the page is generated only by javascript functions. For many search engines this is a problem because their robots can only analyze the returned HTML content from the server response. The solution to this problem is the library for prerendering HTML content from within the application, i.e. Angular Universal. Using it, we generate predefined application subpages and send them as static html for Firebase hosting.</p><h3 id="Web-application-pages"><a href="#Web-application-pages" class="headerlink" title="Web application pages"></a>Web application pages</h3><table><thead><tr><th></th><th></th><th></th></tr></thead><tbody><tr><td><img src="/2019/12/17/Create-newsletter-with-firebase-and-angular/sign-in.jpg" alt="Sign in view" loading="lazy"></td><td><img src="/2019/12/17/Create-newsletter-with-firebase-and-angular/newsletters.jpg" alt="Newsletters view" loading="lazy"></td><td><img src="/2019/12/17/Create-newsletter-with-firebase-and-angular/new-newsletter.jpg" alt="New newsletters view" loading="lazy"></td></tr><tr><td><img src="/2019/12/17/Create-newsletter-with-firebase-and-angular/settings.jpg" alt="Settings view" loading="lazy"></td><td><img src="/2019/12/17/Create-newsletter-with-firebase-and-angular/newsletter.jpg" alt="Newsletter view" loading="lazy"></td><td><img src="/2019/12/17/Create-newsletter-with-firebase-and-angular/new-message.jpg" alt="New message view" loading="lazy"></td></tr></tbody></table><p>The newsletter system needs a few basic views so that the user can freely build his email marketing base:</p><ul><li><em>Login and registration</em> - Like any advanced service, we need to include a page where the user can log in freely or create a new account.</li><li><em>Newsletter list</em> - First view after logging in. List of available newsletters, drawn from the user role collection.</li><li><em>New newsletter</em> - Create a new newsletter, where you enter the name of the new newsletter and after approval you are directed to the rest of the settings.</li><li><em>Settings</em> - Edit SMTP authentication, change the name of the newsletter, edit the confirmation message subscribes, list of users with the ability to edit the role and invite new people. The view is available only to the owner and administrators.<ul><li><em>Subscribers</em> - List of all subscribed newsletter members.</li><li><em>New message</em> - View of new message. With fields for name, title and content of the message. It is also used to reedit messages in the system.</li><li><em>Messages</em> - A list of created messages that we can immediately send to our subscribers.</li><li><em>Delivery</em> - A list of all messages sent or waiting to be sent to users.</li></ul></li><li><em>Newsletter</em> - Basic statistics, i.e. number of subscribers, number of sent e-mails from the beginning of their existence. HTML code for the custom element created (Subscription Form), which can be immediately inserted into your website or Lead Magnet Landing Page-y. This view is also an entry to other subpages of each newsletter.</li></ul><h3 id="Formularz-subskrypcji"><a href="#Formularz-subskrypcji" class="headerlink" title="Formularz subskrypcji"></a>Formularz subskrypcji</h3><p><img src="/2019/12/17/Create-newsletter-with-firebase-and-angular/subscribe-form.png" alt="subscribe form" loading="lazy"></p><p><img src="/2019/12/17/Create-newsletter-with-firebase-and-angular/custom-element-code.png" alt="custom element code" loading="lazy"></p><p>The @angular/elements library has been used to create a subscription form. Angular Elements is a library that contains all the tools you need to transform an Angular Component into a framework-independent custom HTML element (also called Web Component). Thanks to this solution, we can provide the client with an easy start in integrating the newsletter with his website.</p><h2 id="Summary"><a href="#Summary" class="headerlink" title="Summary"></a>Summary</h2><p>So far, our newsletter can only send the basic minimum, i.e. the same message to all subscribers. In the near future we will be adding the automation of dispatch, which will facilitate the creation of personalized messages based on the behavior of the subscriber. There is not much more code in the article, but rather it would require a few parts of the course. If after reading the text you are interested in seeing the whole project code, then please visit <a href="https://github.com/studioLaCosaNostra/email-newsletter" rel="external nofollow noopener noreferrer" target="_blank">githuba</a> where the whole project is located, and if you want to use e-mail marketing in your business. Then start your adventure today by registering at <a href="http://email-newsletter.web.app/" rel="external nofollow noopener noreferrer" target="_blank">https://email-newsletter.web.app/</a>.<br>The project is further developed hobbyically after work, requires adding many more features in order to be able to compete with the offer available on the market. If you would like to contribute to further development, whether it’s programming or suggest some functionality, please contact me at <a href="mailto:studiolacosanostra@gmail.com" rel="external nofollow noopener noreferrer" target="_blank">contact</a>.</p></div><div>Word count: 2.2k</div></article><div class="newsletter-form"><p><b>Want to know more and be immediately informed about new posts?</b></p><p>Let's stay in touch and leave your email:</p><newsletter-subscribe-form newsletter="f4bac83a-d13d-4d9a-91d1-84e66abb6176"></newsletter-subscribe-form></div><meta name="generator" content="Hexo 3.8.0"><div class="blog-post-comments"><div id="disqus_thread"><noscript>Please enable JavaScript to view the comments.</noscript></div></div>Related posts:<ul class="popular-posts"><li class="popular-posts-item"><div class="popular-posts-img"><img src="/2019/04/25/How-to-deploy-a-new-application-written-in-angular-to-firebase-hosting/title-image.png" loading="lazy"></div><div class="popular-posts-title"><h3><a href="/2019/04/25/How-to-deploy-a-new-application-written-in-angular-to-firebase-hosting/" title="How to deploy a new application written in angular to firebase hosting" rel="bookmark">How to deploy a new application written in angular to firebase hosting</a></h3></div></li><li class="popular-posts-item"><div class="popular-posts-img"><img src="/2019/05/16/How-to-make-Firebase-Authentication-via-Google-API-in-Angular/title-image.png" loading="lazy"></div><div class="popular-posts-title"><h3><a href="/2019/05/16/How-to-make-Firebase-Authentication-via-Google-API-in-Angular/" title="How to make Firebase Authentication via Google API in Angular" rel="bookmark">How to make Firebase Authentication via Google API in Angular</a></h3></div></li><li class="popular-posts-item"><div class="popular-posts-img"><img src="/2019/02/18/Angular-Custom-class-decorator-Force-OnInit-OnDestroy-implementation/title-image.png" loading="lazy"></div><div class="popular-posts-title"><h3><a href="/2019/02/18/Angular-Custom-class-decorator-Force-OnInit-OnDestroy-implementation/" title="Angular: Custom class decorator. Force OnInit, OnDestroy implementation." rel="bookmark">Angular: Custom class decorator. Force OnInit, OnDestroy implementation.</a></h3></div><div class="popular-posts-excerpt"><p></p><meta name="generator" content="Hexo 3.8.0"><p>How to create a good decorator in angular.<br></p><p></p></div></li><li class="popular-posts-item"><div class="popular-posts-img"><img src="/2019/09/14/Angular-Zone-WebSocket-Change-detection-Nightmare/title-image.png" loading="lazy"></div><div class="popular-posts-title"><h3><a href="/2019/09/14/Angular-Zone-WebSocket-Change-detection-Nightmare/" title="Angular, Zone, WebSocket  === Change detection Nightmare" rel="bookmark">Angular, Zone, WebSocket === Change detection Nightmare</a></h3></div></li><li class="popular-posts-item"><div class="popular-posts-img"><img src="/2019/04/02/Angular-async-pipe-does-not-work-in-the-electron/title-image.png" loading="lazy"></div><div class="popular-posts-title"><h3><a href="/2019/04/02/Angular-async-pipe-does-not-work-in-the-electron/" title="Angular async pipe does not work in the electron" rel="bookmark">Angular async pipe does not work in the electron</a></h3></div></li></ul><script type="application/ld+json">{
  "@context": "http://schema.org",
  "@type": "BlogPosting",
  "thumbnailUrl": "https://studiolacosanostra.github.io/2019/12/17/Create-newsletter-with-firebase-and-angular/title-image.png",
  "url": "https://studiolacosanostra.github.io/2019/12/17/Create-newsletter-with-firebase-and-angular/",
  "name": "Create from scratch a newsletter service with Firebase and Angular",
  "headline": "Create from scratch a newsletter service with Firebase and Angular",
  "dateCreated": "2020-01-07T00:27:13.640Z",
  "datePublished": "2020-01-07T00:27:13.640Z",
  "dateModified": "2020-01-07T00:27:13.640Z",
  "image": "https://studiolacosanostra.github.io/2019/12/17/Create-newsletter-with-firebase-and-angular/title-image.png",
  "keywords": [
    "angular","firebase","newsletter","email marketing"
  ],
  "mainEntityOfPage": "https://studiolacosanostra.github.io/2019/12/17/Create-newsletter-with-firebase-and-angular/",
  "author": {
    "@type": "Organization",
    "name": "Studio La Cosa Nostra"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Studio La Cosa Nostra",
    "url": "https://studiolacosanostra.github.io",
    "logo": {
      "@type": "ImageObject",
      "width": "615",
      "height": "615",
      "url": "https://studiolacosanostra.github.io/images/logo.png"
    }
  }
}</script><div id="footer-post-container"><div id="footer-post"><div id="nav-footer" style="display:none"><ul><li><a href="/">Home</a></li><li><a href="/projects">Projects</a></li></ul></div><div id="toc-footer" style="display:none"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#What-is-Firebase"><span class="toc-number">1.</span> <span class="toc-text">What is Firebase?</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Firestore-and-database-structure-determination"><span class="toc-number">2.</span> <span class="toc-text">Firestore and database structure determination</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#What-collections-will-our-application-need"><span class="toc-number">2.1.</span> <span class="toc-text">What collections will our application need?</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Firebase-cloud-functions-backend"><span class="toc-number">3.</span> <span class="toc-text">Firebase cloud functions - backend</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#What-is-Angular"><span class="toc-number">4.</span> <span class="toc-text">What is Angular?</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Technologies-used"><span class="toc-number">4.1.</span> <span class="toc-text">Technologies used</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Web-application-pages"><span class="toc-number">4.2.</span> <span class="toc-text">Web application pages</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Formularz-subskrypcji"><span class="toc-number">4.3.</span> <span class="toc-text">Formularz subskrypcji</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Summary"><span class="toc-number">5.</span> <span class="toc-text">Summary</span></a></li></ol></div><div id="share-footer" style="display:none"><meta name="generator" content="Hexo 3.8.0"><link rel="stylesheet" href="/css/prism.css" media="none" onload="&quot;all&quot;!=media&amp;&amp;(media=&quot;all&quot;)"><noscript><link rel="stylesheet" href="/css/prism.css"></noscript><link rel="stylesheet" href="/css/prism-line-numbers.css" media="none" onload="&quot;all&quot;!=media&amp;&amp;(media=&quot;all&quot;)"><noscript><link rel="stylesheet" href="/css/prism-line-numbers.css"></noscript><ul><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https://studiolacosanostra.github.io/2019/12/17/Create-newsletter-with-firebase-and-angular/" rel="external nofollow noopener noreferrer" target="_blank"><i class="fab fa-facebook fa-lg" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https://studiolacosanostra.github.io/2019/12/17/Create-newsletter-with-firebase-and-angular/&amp;text=Create from scratch a newsletter service with Firebase and Angular" rel="external nofollow noopener noreferrer" target="_blank"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https://studiolacosanostra.github.io/2019/12/17/Create-newsletter-with-firebase-and-angular/&amp;title=Create from scratch a newsletter service with Firebase and Angular" rel="external nofollow noopener noreferrer" target="_blank"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https://studiolacosanostra.github.io/2019/12/17/Create-newsletter-with-firebase-and-angular/&amp;is_video=false&amp;description=Create from scratch a newsletter service with Firebase and Angular" rel="external nofollow noopener noreferrer" target="_blank"><i class="fab fa-pinterest fa-lg" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=Create from scratch a newsletter service with Firebase and Angular&amp;body=Check out this article: https://studiolacosanostra.github.io/2019/12/17/Create-newsletter-with-firebase-and-angular/"><i class="fas fa-envelope fa-lg" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https://studiolacosanostra.github.io/2019/12/17/Create-newsletter-with-firebase-and-angular/&amp;title=Create from scratch a newsletter service with Firebase and Angular" rel="external nofollow noopener noreferrer" target="_blank"><i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https://studiolacosanostra.github.io/2019/12/17/Create-newsletter-with-firebase-and-angular/&amp;title=Create from scratch a newsletter service with Firebase and Angular" rel="external nofollow noopener noreferrer" target="_blank"><i class="fab fa-reddit fa-lg" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https://studiolacosanostra.github.io/2019/12/17/Create-newsletter-with-firebase-and-angular/&amp;title=Create from scratch a newsletter service with Firebase and Angular" rel="external nofollow noopener noreferrer" target="_blank"><i class="fab fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https://studiolacosanostra.github.io/2019/12/17/Create-newsletter-with-firebase-and-angular/&amp;title=Create from scratch a newsletter service with Firebase and Angular" rel="external nofollow noopener noreferrer" target="_blank"><i class="fab fa-digg fa-lg" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.tumblr.com/share/link?url=https://studiolacosanostra.github.io/2019/12/17/Create-newsletter-with-firebase-and-angular/&amp;name=Create from scratch a newsletter service with Firebase and Angular&amp;description=" rel="external nofollow noopener noreferrer" target="_blank"><i class="fab fa-tumblr fa-lg" aria-hidden="true"></i></a></li></ul></div><div id="actions-footer"><a id="menu" class="icon" href="#" onclick="return $(&quot;#nav-footer&quot;).toggle(),!1"><i class="fas fa-bars fa-lg" aria-hidden="true"></i> Menu</a> <a id="toc" class="icon" href="#" onclick="return $(&quot;#toc-footer&quot;).toggle(),!1"><i class="fas fa-list fa-lg" aria-hidden="true"></i> TOC</a> <a id="share" class="icon" href="#" onclick="return $(&quot;#share-footer&quot;).toggle(),!1"><i class="fas fa-share-alt fa-lg" aria-hidden="true"></i> Share</a> <a id="top" style="display:none" class="icon" href="#" onclick="$(&quot;html, body&quot;).animate({scrollTop:0},&quot;fast&quot;)"><i class="fas fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a></div></div></div><footer id="footer"><div class="footer-left">Copyright © 2020 Studio La Cosa Nostra | Words: 13.5k</div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/projects">Projects</a></li><li><a href="/privacy-policy.html">Privacy Policy</a></li></ul></nav></div></footer></div><link rel="stylesheet" href="/lib/font-awesome/css/all.min.css" media="none" onload="&quot;all&quot;!=media&amp;&amp;(media=&quot;all&quot;)"><noscript><link rel="stylesheet" href="/lib/font-awesome/css/all.min.css"></noscript><link rel="stylesheet" href="/lib/justified-gallery/css/justifiedGallery.min.css" media="none" onload="&quot;all&quot;!=media&amp;&amp;(media=&quot;all&quot;)"><noscript><link rel="stylesheet" href="/lib/justified-gallery/css/justifiedGallery.min.css"></noscript><script src="/lib/jquery/jquery.min.js"></script><script src="/lib/justified-gallery/js/jquery.justifiedGallery.min.js"></script><script>$(document).ready(function () {
    document.querySelectorAll('article li img, article p img, article td img').forEach((element) => {
      const src = element.getAttribute('src');
      element.addEventListener('click', (e) => {
        e.preventDefault();
        if (window.trackOutboundLink) {
          trackOutboundLink(src);
        }
        window.open(src, "_blank");
      });
    });
  });</script><script src="/js/main.js"></script><script type="text/javascript">var disqus_shortname="studio-la-cosa-nostra";!function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="//"+disqus_shortname+".disqus.com/embed.js",(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(e)}()</script><script type="text/javascript" src="https://cdn.jsdelivr.net/gh/studioLaCosaNostra/cookie-consent@latest/dist/cookie-consent/cookie-consent.js"></script><script async="" type="text/javascript" src="https://cdn.jsdelivr.net/npm/@email-newsletter/newsletter-subscribe-form@0.0.9/custom-element/main-es5.js"></script><link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"><link href="https://cdn.jsdelivr.net/npm/@angular/material@8.1.0/prebuilt-themes/indigo-pink.css" rel="stylesheet"><script type="application/ld+json">{
      "@context": "http://schema.org",
      "@type": "WebSite",
      "url": "https://studiolacosanostra.github.io",
      "name": "Studio La cosa nostra dev blog"
    }</script><script type="application/ld+json">{
        "@context": "http://schema.org",
        "@type": "Organization",
        "name": "Studio La cosa nostra dev blog",
        "email": "studiolacosanostra@gmail.com",
        "url": "https://studiolacosanostra.github.io",
        "sameAs": [
          "https://www.facebook.com/studiolacosanostra/",
          "https://twitter.com/la_cosa_nostrai",
          "https://github.com/studioLaCosaNostra",
          "https://play.google.com/store/apps/developer?id=La+cosa+nostra",
          "https://www.youtube.com/channel/UCTCoOqyugQFUTX1it84LkRA",
          "https://www.linkedin.com/company/studio-la-cosa-nostra/"
        ]
      }</script></body></html>